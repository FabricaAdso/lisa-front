<section class="attendance">
  <!-- Header -->
  <header class="page-header w-full mt-10 border border-solid border-gray-200 p-4 rounded-lg">
    <div class="title-icon flex items-center justify-center w-full">
      <nz-page-header nzBackIcon [nzGhost]="false" nzSize="large"></nz-page-header>
      <nz-page-header-title class="page-header-title text-center text-sm sm:text-base lg:text-lg">
        An√°lisis y Desarrollo de Software 2774315
      </nz-page-header-title>
    </div>
    <nz-page-header-content>
      <nz-descriptions nzSize="middle" [nzColumn]="2" class="flex flex-col sm:flex-row">
        <nz-descriptions-item nzTitle="L√≠der de ficha">Leidy Mariani Dorado</nz-descriptions-item>
        <nz-descriptions-item nzTitle="Duraci√≥n del programa">06/06/2023 - 06/08/2024</nz-descriptions-item>
        <nz-descriptions-item nzTitle="Sede">Inem</nz-descriptions-item>
        <nz-descriptions-item nzTitle="Ambiente" [nzSpan]="1">{{course_code||'1055'}}</nz-descriptions-item>
        <nz-descriptions-item nzTitle="Vocero de ficha">Juan Andr√©s</nz-descriptions-item>
        <nz-descriptions-item nzTitle="Vocero suplente">Antonio Rodr√≠guez</nz-descriptions-item>
      </nz-descriptions>
    </nz-page-header-content>
  </header>

  <!-- Buttons -->
  <div class="buttons w-4/5 p-4 mt-8 flex justify-end">
    <div class="button flex gap-4">
      <button nz-button nzType="primary" (click)="toggleTable()">
        {{ showDefaultTable ? 'Tomar asistencia' : 'Volver a tabla original' }}
      </button>
      <button nz-button nzType="primary">Sesiones</button>
    </div>
  </div>

  <!-- Content -->
  <div class="flex flex-col items-center w-full">
    <!-- Default Table -->
    <ng-container *ngIf="showDefaultTable" class="flex w-full">
      <nz-table #basicTable [nzData]="listOfData" [nzBordered]="true" [nzPageSize]="5" [nzScroll]="{ y: '300px' }">
        <thead>
          <tr>
            <th>Nombres y Apellidos</th>
            <th>Documento</th>
            <th>Correo</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of basicTable.data">
            <td>{{ data.nombre }} {{ data.apellido }}</td>
            <td>{{ data.documento }}</td>
            <td>{{ data.correo }}</td>
            <td>
              <button nz-button nzType="primary" (click)="showModal()">Justificaci√≥n</button>
            </td>
          </tr>
        </tbody>
      </nz-table>
    </ng-container>

 <!-- Alternate Table -->
 <div *ngIf="!showDefaultTable" class="flex flex-wrap gap-4 justify-center w-full">
  <ng-container *ngFor="let group of paginatedTables">
    <nz-table class="w-80 table-fixed h-full"
      [nzData]="group"
      [nzBordered]="true"
      [nzScroll]="{ x: '100%' }"
      [nzSize]="'small'"
      
    >
      <thead>
        <tr>
          <th class="w-1/3 p-2">Asisti√≥</th>
          <th class="w-1/3 p-2">Nombres y Apellidos</th>
          <th class="w-1/3 p-2">Documento</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of group">
          <td>
            <input type="checkbox" class="accent-lime-600" [checked]="data.assistance" (change)="toggleAssistance(data.key, $event)"/>
          </td>
          <td>{{ data.nombre }} {{ data.apellido }}</td>
          <td>{{ data.documento }}</td>
        </tr>
      </tbody>
    </nz-table>
  </ng-container>
  <div class="flex justify-end items-end fixed mt-96 gap-2 ">
    <button nz-button nzType="default" (click)="prevPage()" [disabled]="currentPage === 1">
      Anterior
    </button>
    <button nz-button nzType="default" (click)="nextPage()" [disabled]="currentPage === Math.ceil(listDAtos.length / tablesPerPage)">
      Siguiente
    </button>
  </div>
</div>

  </div>

  <!-- Modal -->
  <nz-modal [(nzVisible)]="isVisible" nzTitle="Inasistencias" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
    <ng-container *nzModalContent>
      <div class="modal-content p-6">
        <div class="filter-section flex items-center gap-4 mb-5">
          <button nz-button nzType="default" class="filter-btn flex items-center gap-2">
            <i nz-icon nzType="filter"></i> Filtrar
          </button>
          <div class="filter-date">
            <label for="filter-date" class="text-gray-600">Fecha</label>
            <input nz-input type="date" id="filter-date" class="p-2 border border-gray-300 rounded" />
          </div>
          <button nz-button nzType="primary" class="all-btn">Todas</button>
        </div>
        <div class="attendance-list flex flex-col gap-4">
          <div class="attendance-item flex items-center gap-4 p-4 border border-gray-200 rounded-lg bg-gray-100">
            <div class="status-indicator status-green"></div>
            <span>Fecha: 10/07/2024 Hora: 7:00 - 13:00</span>
            <a href="#" class="action-link text-blue-500">üëÅÔ∏è Examinar</a>
          </div>
        </div>
      </div>
    </ng-container>
  </nz-modal>
</section>

    

