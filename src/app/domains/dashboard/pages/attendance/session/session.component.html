<nz-modal
  (nzOnOk)="submitFormSession()"
  (nzOnCancel)="closeModal()"
  [(nzVisible)]="isModalVisible"
  *ngIf="formSession"
>
  <ng-container *nzModalContent>
    <form [formGroup]="formSession">
      <div class="mb-4">
        <label for="" class="">Red de conocimiento</label>
        <nz-select
          (change)="changeKnowledgeNetwork()"
          [formControl]="fieldKnowledgeNetwork"
          name="knowledge_network"
          placeholder="Seleccione un Area"
        >
          @for (item of knowledge_network; track $index) {
          <nz-option [nzLabel]="item.name" [nzValue]="item.id">{{
            item.name
          }}</nz-option>
          }
        </nz-select>
      </div>
      <div class="mb-4">
        <label for="" class="">Instructor</label>
        <nz-select
          [formControl]="fieldInstructor"
          name="instructor_id"
          placeholder="Seleccione una Sede"
        >
          @for (item of instructor; track $index) {
          <nz-option
            [nzLabel]="
              (item.user?.first_name || '') + ' ' + (item.user?.last_name || '')
            "
            [nzValue]="item.id"
          ></nz-option>
          }
        </nz-select>
      </div>
      <div class="mb-4">
        <label for="" class="">Curso</label>
        <nz-select
          [formControl]="fieldCourse"
          name="course_id"
          placeholder="Seleccione una Sede"
        >
          @for (item of courses; track $index) {
          <nz-option
            [nzLabel]="item.code"
            [nzValue]="item.id"
          ></nz-option>
          }
        </nz-select>
      </div>

      <div class="mb-4">
        <label for="" class="">Fecha de asignacion</label>
        <nz-range-picker
          class="w-full"
          [formControl]="fielRangePicker"
          name="range_picker"
          (ngModelChange)="onDateChange($event)"
        ></nz-range-picker>
      </div>

      <div class="mb-4 flex gap-5">
        <div class="flex flex-col w-1/2"> 
            <label for="" class="">Hora de inicio</label>
        <nz-time-picker  nzFormat="HH:mm"></nz-time-picker>
        </div>
        <div class="flex flex-col w-1/2">
            <label for="" class="">Hora de fin</label>
         <nz-time-picker  nzFormat="HH:mm"></nz-time-picker>
        </div>
      </div>
      <div class="mb-4">
        <nz-select
        name="day_of_week"
       [nzMaxTagCount]="3"
       [nzMaxTagPlaceholder]="tagPlaceHolder"
       nzMode="multiple"
       nzPlaceHolder="Please select"
       [formControl]="fieldDayOfWeek"
    >
      @for (item of day_of_week; track item) {
        <nz-option [nzLabel]="item.name" [nzValue]="item.id"></nz-option>
      }
    </nz-select>
    <ng-template #tagPlaceHolder let-selectedList>and {{ selectedList.length }} more selected</ng-template>
      </div>
    </form>
  </ng-container>
</nz-modal>
