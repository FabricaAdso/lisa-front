<section id="all">
  <nz-table #basicTable [nzData]="users" [nzSize]="'middle'">
    <thead>
      <tr>
        <th>Documento</th>
        <th>Nombre</th>
        <th>Apellido</th>
        <th>Roles</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td>{{ user.documento }}</td>
        <td>{{ user.nombre }}</td>
        <td>{{ user.apellido }}</td>
        <td>{{ user.roles.join(', ') }}</td>
        <td>
          <button nz-button nzType="link" (click)="showModal(user)">Editar Roles</button>
          <button nz-button nzType="default" (click)="toggleUserStatus(user)">
            {{ user.active ? 'Desactivar' : 'Activar' }}
          </button>
        </td>
      </tr>
    </tbody>
  </nz-table>
</section>




<nz-modal [(nzVisible)]="isVisible" nzTitle="Editar Roles" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
  <div>
    <label>Roles:</label>
    <nz-select [(ngModel)]="selectedRoles" nzMode="multiple" name="roles" style="width: 100%;">
      <nz-option *ngFor="let role of allRoles" [nzValue]="role" [nzLabel]="role"></nz-option>
    </nz-select>
  </div>
  <div style="margin-top: 10px;">
    <label>Activo:</label>
    <input type="checkbox" [(ngModel)]="isActive">
  </div>
</nz-modal>


